{% extends "base/home.html" %}
{% load static %}
{% load i18n %}

{% block description %}{% endblock description %}
{% block keywords %}{% endblock keywords %}

{% block content %}
<header>
    <div class="container-x" style="height: 0;">
        {% include "base/parts-tool/navbar.html" %}
    </div>
</header>
<div class="form-login mt-5 pt-3">
    <div class="content">
        <div class="form-content">
            <form method="POST">
                <h2>{% trans "inscription" %}</h2>
                {% csrf_token %}
                <span>{% trans "Nom d'utilisateur" %}</span><br>
                {{form.username}}<br>
                {% if form.errors.username %}
                <p class="error_user">{% trans "Ce nom existe" %}</p>
                {% endif %}
                
                <span>{% trans "Adresse e-mail" %}</span><br>
                {{form.email}}<br>
                
                <span>{% trans "Mot de passe" %}</span><br>
                {{form.password1}}<br>
                {% if form.errors.password2 %}
                <p class="error1">{% trans "Le mot de passe est trop faible" %}</p>
                {% endif %}
                
                <span>{% trans "Confirmez le mot de passe" %}</span><br>
                {{form.password2}}<br>
                {% if form.errors.password2 %}
                <p class="error2">{% trans "Incorrect, le mot de passe doit être confirmé" %}</p><br>
                {% endif %}
                
                <input type="submit" id="button" value="{% trans "inscription" %}">
                <div class="login">
                    <p>{% trans "Vous avez déjà un compte?" %} <a style="color: #D1B3C4" id="login" href="{% url "connexion" %}">{% trans "inscription" %}</a><p>
                </div>
            </form>
        </div>
        <div class="pattern-deco" style="background-image: url({% static 'img/pattern.png' %})">
        </div>
    </div>
</div>

<script>
    let charcters = /\W/g
    let submit = document.querySelector(".btn");
    let inputs = document.getElementsByTagName("input");
    let pass1 = document.getElementById('id_password1');
    let error1 = document.querySelector(".error1");
    let pass2 = document.getElementById('id_password2');
    let error2 = document.querySelector(".error2");
    submit.addEventListener("click", function () {
        for (let i = 0; i < inputs.length; i++) {
            if (inputs[i].value == "") {
                inputs[i].style.border = '1px solid #ff3636'
            }
        }
    })

    document.getElementById("id_username").placeholder = "Nom d'utilisateur";
    document.getElementById("id_email").placeholder = "Entrer votre Email";
    document.getElementById("id_password1").placeholder = "Entrer le mot de passe";
    document.getElementById("id_password2").placeholder = "Entrez à nouveau le mot de passe";
</script>

{% endblock content %}
